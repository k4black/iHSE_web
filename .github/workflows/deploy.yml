name: deploy
# Build and Publish Front End Website

on:
    push:
        branches:
            - release

jobs:
    FTP-Deploy-Action:
        name: FTP-Deploy-Action
        runs-on: [ubuntu-latest]
        steps:
          - uses: actions/checkout@release

#           - name: Use Node.js 12.x
#             uses: actions/setup.sh-node@v1
#             with:
#                 node-version: '12.x'

#           - name: Build Project
#             run: |
#               npm install
#               npm run build --if-present

          - name: List output files
            run: ls

          - name: FTP-Deploy-Action
            uses: SamKirkland/FTP-Deploy-Action@2.0.0
            env:
                FTP_SERVER: ihse.tk
                FTP_USERNAME: ubuntu-ftp
                FTP_PASSWORD: ${{ secrets.FTP_PASSWORD }}
                METHOD: ftp
                LOCAL_DIR: .
                ARGS: --delete
                
          - name: Running setup bash script 
            uses: appleboy/ssh-action@master
            with:
                host: ihse.tk
                username: ubuntu
                password: ${{ secrets.SSH_PASSWORD }}
                port: 22
                script: whoami
              
